name: Test ubuntu-2004
run-name: ubuntu-2004 ${{ inputs.arch }} ${{ inputs.triggered_by }}

on:
  workflow_dispatch:
    inputs:
      arch:
        required: true
        type: choice
        options: [x64, arm64]
        default: x64
      triggered_by:
        required: false
        type: string

jobs:
  test_image:
    uses: ./.github/workflows/test_all.yml
    with:
      runner: ${{ inputs.arch == 'x64' && 'ubicloud-standard-2-ubuntu-2004' || 'ubicloud-standard-2-arm-ubuntu-2004' }}
      image_os: ubuntu20
      arch: ${{ inputs.arch }}
